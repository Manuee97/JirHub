(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{164:function(e,t,a){e.exports=a(306)},169:function(e,t,a){},170:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(40),c=a.n(s),l=(a(169),a(6)),o=a(8),i=a(9),m=a(11),u=a(10),d=a(12),h=(a(170),a(47)),p=a.n(h),b=function e(){var t=this;Object(o.a)(this,e),this.fetchTodos=function(){return t.instance.get("/").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.fetchOneTodo=function(e){return t.instance.get("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.createTodo=function(e,a,n,r,s,c){return t.instance.post("/new",{name:e,description:a,type:n,issues:r,collaborators:s,boss:c}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.updateTodo=function(e,a){return t.instance.put("/".concat(e),{done:a}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.deleteTodo=function(e){return t.instance.delete("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=p.a.create({baseURL:"".concat("https://jirhubapp.herokuapp.com/api","/todos"),withCredentials:!0})},E=a(27),g=a(14),v=function e(){var t=this;Object(o.a)(this,e),this.logout=function(e){return t.instance.post("/logout",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.signup=function(e){return t.instance.post("/signup",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.login=function(e){return t.instance.post("/login",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.loggedInUser=function(){return t.instance.get("/loggedin").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.upload=function(e){return t.instance.post("/upload",e).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.allUsers=function(){return t.instance.get("/users").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=p.a.create({baseURL:"".concat("https://jirhubapp.herokuapp.com/api","/auth"),withCredentials:!0})},f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={username:"",lastname:"",email:"",password:"",picture:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(g.a)({},n,r)))},a.handleLogin=function(e){var t=a.props,n=t.setUser,r=t.history;e.preventDefault(),a.authService.login(a.state).then((function(e){n(e),r.push("/")}),(function(e){console.error(e)}))},a.Navbar=function(){a.props.loggedInUser;return r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("svg",{className:"intro",viewBox:"0 0 200 86"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke",clipPath:"url(#text1)"},"JirHub"),r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke text-stroke-2",clipPath:"url(#text1)"},"JirHub")),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"text1"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text"},"JirHub")))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"})))},a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return r.a.createElement("div",{className:"marginIndex"},this.Navbar(),r.a.createElement("div",{className:"containerRegister"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"h2center"},"Login"),r.a.createElement("form",{className:"login-form",onSubmit:this.handleLogin},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{type:"password",name:"password",value:a,onChange:this.handleChange}),r.a.createElement("button",null,"Login"),r.a.createElement("p",{className:"message"},"Not registered? ",r.a.createElement("a",{href:"/signup"},"Create an account")))))))}}]),t}(n.Component),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={username:"",lastname:"",email:"",password:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(g.a)({},n,r)))},a.handleSignUp=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.signup(a.state).then((function(e){r(e),n.push("/")}),(function(e){console.error(e)}))},a.handleUpload=function(e){var t=new FormData;t.append("picture",e.target.files[0]),a.authService.upload(t).then((function(e){a.setState(Object(l.a)({},a.state,{picture:e.secure_url}))}),(function(e){console.error(e)}))},a.Navbar=function(){a.props.loggedInUser;return r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("svg",{className:"intro",viewBox:"0 0 200 86"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke",clipPath:"url(#text1)"},"JirHub"),r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke text-stroke-2",clipPath:"url(#text1)"},"JirHub")),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"text1"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text"},"JirHub")))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"})))},a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.lastname,n=e.email,s=e.password;e.isAdmin,e.picture;return r.a.createElement("div",{className:"marginIndex"},this.Navbar(),r.a.createElement("div",{className:"containerRegister"},r.a.createElement("div",{className:"login-page"},r.a.createElement("div",{className:"form"},r.a.createElement("h2",{className:"h2center"},"Sign Up"),r.a.createElement("form",{className:"register-form",onSubmit:this.handleSignUp},r.a.createElement("label",{htmlFor:"username"},"Username: "),r.a.createElement("input",{type:"text",name:"username",value:t,required:!0,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"lastname"},"Last Name: "),r.a.createElement("input",{type:"text",name:"lastname",value:a,required:!0,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"email"},"Email: "),r.a.createElement("input",{type:"email",name:"email",value:n,required:!0,onChange:this.handleChange}),r.a.createElement("label",{htmlFor:"password"},"Password: "),r.a.createElement("input",{type:"password",value:s,name:"password",required:!0,onChange:this.handleChange}),r.a.createElement("input",{type:"file",name:"picture",onChange:this.handleUpload}),r.a.createElement("button",null,"SignUp"),r.a.createElement("p",{className:"message"},"Already registered? ",r.a.createElement("a",{href:"/login"},"Sign In")))))))}}]),t}(n.Component),x=a(36),j=a(37);function w(){var e=Object(x.a)(["\n  display: "," ;\n  left: 0;\n  top:0;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  margin: 0 auto;\n  position:absolute;\n  z-index: 9999;\n  background:#0946a6;\n  height: 100vh;\n  }\n\n  .fontLogo {\n      color:white;\n      font-size: 300px;\n  }\n\n"]);return w=function(){return e},e}var y=j.a.div(w(),(function(e){return!0===e.show?"flex":"none"})),O=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={username:"",lastname:"",email:"",show:!1,password:"",picture:""},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(g.a)({},n,r)))},a.handleIndex=function(e){e.preventDefault();var t=a.props,n=t.history,r=t.setUser;a.authService.index(a.state).then((function(e){r(e),n.push("/")}),(function(e){console.error(e)}))},a.handleUpload=function(e){var t=new FormData;t.append("picture",e.target.files[0]),a.authService.upload(t).then((function(e){a.setState(Object(l.a)({},a.state,{picture:e.secure_url}))}),(function(e){console.error(e)}))},a.toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.Navbar=function(){return r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("svg",{className:"intro",viewBox:"0 0 200 86"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke",clipPath:"url(#text1)"},"JirHub"),r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke text-stroke-2",clipPath:"url(#text1)"},"JirHub")),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"text1"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text"},"JirHub")))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"})))},a.state={show:!1},a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.show;return r.a.createElement("div",{className:"marginIndex"},r.a.createElement(y,{show:e},r.a.createElement("div",null,r.a.createElement("div",{className:"fontLogo"},"JirHub"))),this.Navbar(),r.a.createElement("div",{className:"containerIndex"},r.a.createElement("div",{className:"text-svg"},r.a.createElement("svg",{viewBox:"-15 20 750 100",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1"},r.a.createElement("path",{id:"path"},r.a.createElement("animate",{attributeName:"d",from:"m0,110 h0",to:"m0,110 h1100",dur:"6.8s",begin:"0s",repeatCount:"indefinite"})),r.a.createElement("text",{fontSize:"20",fontFamily:"Montserrat",fill:"hsl(360, 100%, 100%)"},r.a.createElement("textPath",{xlinkHref:"#path"},"A more precise way to define the workflow and manage daily tasks.")))),r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{href:"/login"},r.a.createElement("button",{className:"btn btn-link btnl"},"Log in")),r.a.createElement("a",{href:"/signup"},r.a.createElement("button",{className:"btn btn-link btnl"},"Sign Up"))),r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"JirHub creado por un ",r.a.createElement("a",{href:"https://www.linkedin.com/in/manuelalvarezrosado/"},"IronHacker")," con ",r.a.createElement("button",{className:"heart",onClick:this.toggleShow},"\u2665")))))}}]),t}(n.Component),S=a(154);function C(e){var t=e.component,a=e.user,n=e.redirectPath,s=Object(S.a)(e,["component","user","redirectPath"]);return r.a.createElement(E.b,Object.assign({},s,{render:function(e){return a?r.a.createElement(t,Object.assign({loggedInUser:a},e)):r.a.createElement(E.a,{to:{pathname:n}})}}))}function U(){var e=Object(x.a)(["\n  display: "," ;\n  flex-direction: column;\n  align-items: center;\n  width: 100vw;\n  margin: 0 auto;\n  position:relative;\n  z-index: 9999;\n  background:rgba(0,0,0, 0.5);\n  height: 100vh;\n  }\n\n  .form {\n    margin-top:2%;\n    position: relative;\n    background: #FFFFFF;\n    max-width: 360px;\n    padding: 30px 70px 30px 70px;\n    box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);\n  }\n\n\n\n"]);return U=function(){return e},e}var k=j.a.div(U(),(function(e){return!0===e.show?"flex":"none"})),P=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.state={show:!1},a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.state.show;return r.a.createElement("div",{className:"fake"},r.a.createElement("img",{className:"fakeImg",src:"https://res.cloudinary.com/duczhwe2w/image/upload/v1576852327/dashboard-free-psd_aujbpn.jpg",alt:""}))}}]),t}(n.Component),T=a(48);function I(e){var t=e.id,a=e.name,n=e.description,s=e.updateTodos,c=e.boss,l=new b;return r.a.createElement("div",{className:"col-sm-5 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text"},n),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("a",{href:"/todos/".concat(t),className:"btn btn-primary"},"Ver proyecto"),r.a.createElement("a",{href:"/todos/".concat(t),className:"btn btn-secondary margin-left-btn"},"Editar proyecto"),r.a.createElement("a",{href:"#",onClick:function(){l.deleteTodo(t).then((function(){s()}))},className:"btn btn-danger margin-left-btn"},"Borrar proyecto"))))}var F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.updateTodos(),a.authService.allUsers().then((function(e){a.setState(Object(l.a)({},a.setState,{users:e.user}))}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(g.a)({},n,r)))},a.updateCollaborators=function(e){var t=Object(T.a)(a.state.collaborators),n=e.target.value;t.push(n),a.setState(Object(l.a)({},a.state,{collaborators:t}))},a.handleSubmit=function(e){var t=a.state,n=t.name,r=t.description,s=t.type,c=t.issues,o=t.collaborators,i=t.boss;e.preventDefault(),a.todoService.createTodo({name:n,description:r,type:s,issues:c,collaborators:o,boss:i}).then((function(){a.setState(Object(l.a)({},a.state,{name:"",description:"",type:"",issues:"",collaborators:"",boss:[]})),a.updateTodos()}),(function(e){return console.error(e)}))},a.displayTodos=function(){return a.state.todos.map((function(e,t){return r.a.createElement(I,Object.assign({key:t},e,{updateTodos:a.updateTodos}))}))},a.updateTodos=function(){a.todoService.fetchTodos().then((function(e){a.setState(Object(l.a)({},a.state,{todos:e}))}),(function(e){var t=e.message;console.error(t)}))},a.toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.state={users:[],collaborators:[],name:"",description:"",show:!1,type:"",issues:[],boss:[],todos:[]},a.todoService=new b,a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=(this.props.loggedInUser,this.state),a=t.name,n=t.description,s=t.show,c=t.todos,l=t.type,o=(t.issues,t.collaborators,t.boss);return r.a.createElement("div",{className:"contenido"},r.a.createElement("h1",null,"Proyectos"),this.props.location.stateUser.user.isAdmin&&r.a.createElement("button",{className:"btn btn-primary",onClick:this.toggleShow},"Crear Proyecto"),r.a.createElement("div",{className:"modals"},r.a.createElement(k,{show:s},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("p",null,"Crear Proyecto:"),r.a.createElement("div",null,r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:a})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"type"},"Tipo:")," ",r.a.createElement("input",{type:"text",name:"type",onChange:this.handleChange,value:l})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n:")," ",r.a.createElement("input",{type:"text",name:"description",onChange:this.handleChange,value:n})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"collaboratos"},"Programadores:"),r.a.createElement("select",{multiple:!0},this.state.users.map((function(t){return r.a.createElement("option",{onClick:e.updateCollaborators,value:t.id},t.username)})))),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"boss"},"Jefe:")," ",r.a.createElement("input",{type:"text",name:"boss",onChange:this.handleChange,value:o})),r.a.createElement("div",{className:"buttonProject"},r.a.createElement("button",{className:"btn danger",onClick:this.toggleShow},"Salir"),r.a.createElement("button",{className:"btn btn-primary",ype:"submit",value:"Create"},"Crear"))))),r.a.createElement("div",null,r.a.createElement("div",{className:"row"},!this.props.location.stateUser.user.isAdmin&&this.state.todos.map((function(e){return r.a.createElement("div",{className:"col-sm-5 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("p",{className:"card-text"},e.boss),r.a.createElement("a",{href:"/todos/".concat(e.id),className:"btn btn-primary"},"Ver proyecto"))))})),this.props.location.stateUser.user.isAdmin&&this.displayTodos(),!c&&r.a.createElement("p",null,"Loading..."))))}}]),t}(n.Component),A=a(314),H=a(312),D=a(313),J=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.authService.allUsers().then((function(e){a.setState(Object(l.a)({},a.setState,{users:e.user}))}))},a.state={users:[]},a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){this.props.loggedInUser;return r.a.createElement("div",null,r.a.createElement(A.a,{style:{marginLeft:"7em",marginTop:"1em"}},r.a.createElement(A.a.Row,null,r.a.createElement(H.a,{as:"h1"},"Users")),r.a.createElement(A.a.Row,null,r.a.createElement(D.a,{style:{width:"70%"}},r.a.createElement(D.a.Header,null,r.a.createElement(D.a.Row,null,r.a.createElement(D.a.HeaderCell,null,"Nombre"),r.a.createElement(D.a.HeaderCell,null,"Apellidos"),r.a.createElement(D.a.HeaderCell,null,"Email"),r.a.createElement(D.a.HeaderCell,null,"ID"),r.a.createElement(D.a.HeaderCell,{className:"bossSize"},"Rango"))),r.a.createElement(D.a.Body,null,this.state.users.map((function(e){return r.a.createElement(D.a.Row,null,r.a.createElement(D.a.Cell,null,e.username),r.a.createElement(D.a.Cell,null,e.lastname),r.a.createElement(D.a.Cell,null,e.email),r.a.createElement(D.a.Cell,null,e.id),e.isAdmin&&r.a.createElement(D.a.Cell,{className:"bossSize"}," Jefe de Equipo "),!e.isAdmin&&r.a.createElement(D.a.Cell,null,"Programador"))})))))))}}]),t}(n.Component),L=function e(){var t=this;Object(o.a)(this,e),this.fetchTodos=function(){return t.instance.get("/").then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.fetchOneTodo=function(e){return t.instance.get("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.createTodo=function(e,a,n,r,s,c,l,o){return t.instance.post("/new",{name:e,type:a,description:n,assigned:r,creator:s,isFinish:c,comentario:l,idProject:o}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.updateTodo=function(e,a){return t.instance.put("/".concat(e),{comentariosIssues:a}).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.deleteTodo=function(e){return t.instance.delete("/".concat(e)).then((function(e){return Promise.resolve(e.data)})).catch((function(e){return console.error(e)}))},this.instance=p.a.create({baseURL:"".concat("https://jirhubapp.herokuapp.com/api","/issues"),withCredentials:!0})},z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=Object(T.a)(a.state.issues);console.log(a.props.location.stateUser.user),a.props.location.stateUser.user.issues.map((function(t){a.issuesService.fetchOneTodo(t).then((function(t){e.push(t),a.setState(Object(l.a)({},a.state,{issues:e}))}))}))},a.state={issues:[]},a.issuesService=new L,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"contenido"},console.log(this),r.a.createElement("h1",null,"Incidencias asignadas"),r.a.createElement("div",{className:"row"},this.state.issues&&this.state.issues.map((function(e){return r.a.createElement("div",{className:"col-sm-5 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.issue.name),r.a.createElement("p",{className:"card-text"},e.issue.type),r.a.createElement("p",{className:"card-text"},e.issue.description),r.a.createElement("a",{href:"/issues/".concat(e.issue.id),className:"btn btn-primary"},"Ver incidencia"))))}))))}}]),t}(n.Component),R=a(32),M=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.state={user:[],show:!1},a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state.show;return r.a.createElement("div",{className:"paddingSettings"},r.a.createElement("div",{className:"card paddingSettingsCard"},r.a.createElement("img",{className:"card-img-top imgSize",src:this.props.location.stateUser.user.picture}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},this.props.name," ",this.props.lastname),r.a.createElement("h5",{className:"card-title"},this.props.location.stateUser.user.email),r.a.createElement("p",{className:"card-text"},"Rango:  ",this.props.location.stateUser.user.isAdmin&&r.a.createElement("span",null,"Jefe de Equipo")," ",!this.props.location.stateUser.user.isAdmin&&r.a.createElement("span",null,"Programador")),r.a.createElement("a",{className:"btn btn-primary",onClick:this.toggleShow},r.a.createElement("span",{className:"textWhite"},"Editar usuario")))),r.a.createElement("div",{className:"modals"},r.a.createElement(k,{show:e},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("p",null,"Editar Usuario:"),r.a.createElement("div",null,r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:this.props.location.stateUser.user.username})),r.a.createElement("div",null,r.a.createElement("label",null,"Apellidos:"),r.a.createElement("input",{type:"text",name:"lastname",onChange:this.handleChange,value:this.props.location.stateUser.user.lastname})),r.a.createElement("div",null,r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",onChange:this.handleChange,value:this.props.location.stateUser.user.email})),r.a.createElement("div",{className:"buttonProject"},r.a.createElement("a",{href:"/",className:"btn danger textWhite",onClick:this.toggleShow},"Salir"),r.a.createElement("a",{href:"/",className:"btn btn-primary",ype:"submit",value:"Create"},"Editar"))))))}}]),t}(n.Component);function B(){var e=Object(x.a)(["\n  width: 45%;\n  margin-bottom: 2%;\n  background: #fff;\n  border-radius: 2px;\n  border: ",";\n  padding: 2%;\n\n  &:hover {\n    box-shadow: 0 14px 28px rgba(0,0,0,0.25), 0 10px 10px rgba(0,0,0,0.22);\n  }\n\n  h3 {\n    text-decoration: ",";\n  }\n\n  button{\n    padding: 2%;\n    border-width: 0;\n    outline: none;\n    border-radius: 2px;\n    color: black;\n    margin-right: 10px;\n    transition: background-color .3s;\n  }\n\n  button:hover, button:focus {\n    box-shadow: 0 1px 4px rgba(0, 0, 0, .6);\n  }\n"]);return B=function(){return e},e}j.a.div(B(),(function(e){return!0===e.done?"1px solid green":"1px solid red"}),(function(e){return!0===e.done?"line-through":"none"}));function V(e){var t=e.id,a=e.name,n=e.description,s=(e.done,e.updateTodos),c=e.type,l=(e.assigned,e.creator,e.isFinish,new L);return r.a.createElement("div",{className:"col-sm-10 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},a),r.a.createElement("p",{className:"card-text"},c),r.a.createElement("p",{className:"card-text"},n),r.a.createElement("div",{className:"issuesRow"},r.a.createElement("a",{href:"/issues/".concat(t),className:"btn btn-primary"},"Ver incidencia"),r.a.createElement("a",{href:"/issues/".concat(t),className:"btn btn-secondary margin-left-btn"},"Editar incidencia")),r.a.createElement("br",null),r.a.createElement("a",{href:"#",onClick:function(){l.deleteTodo(t).then((function(){s()}))},className:"btn btn-danger"},"Borrar incidencia"))))}var q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){a.updateTodos();a.props.match.params.id;a.todoService.fetchOneTodo(a.props.match.params.id).then((function(e){a.setState(Object(l.a)({},a.state,{todo:e,idProject:a.props.match.params.id}))}))},a.handleChange=function(e){var t=e.target,n=t.name,r=t.value;a.setState(Object(l.a)({},a.state,Object(g.a)({},n,r)))},a.updateCollaborators=function(e){var t=Object(T.a)(a.state.collaborators),n=e.target.value;t.push(n),a.setState(Object(l.a)({},a.state,{collaborators:t}))},a.handleSubmit=function(e){var t=a.state,n=t.name,r=t.type,s=t.description,c=t.assigned,o=t.creator,i=t.isFinish,m=t.comentario,u=t.idProject;e.preventDefault(),a.issuesService.createTodo({name:n,type:r,description:s,assigned:c,creator:o,isFinish:i,comentario:m,idProject:u}).then((function(){a.setState(Object(l.a)({},a.state,{name:"",type:"",description:"",assigned:"",isFinish:"",comentario:""})),a.updateTodos()}),(function(e){return console.error(e)}))},a.displayTodos=function(){return a.state.issues.map((function(e,t){return r.a.createElement(V,Object.assign({key:t},e,{updateTodos:a.updateTodos}))}))},a.updateTodos=function(){a.issuesService.fetchTodos().then((function(e){a.setState(Object(l.a)({},a.state,{issues:e}))}),(function(e){var t=e.message;console.error(t)}))},a.toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.state={users:[],name:"",type:"",description:"",assigned:"",show:!1,creator:a.props.loggedInUser.id,isFinish:!1,comentario:"",issues:null,idProject:null,todo:null},a.issuesService=new L,a.todoService=new b,a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.name,a=e.type,n=e.description,s=e.assigned,c=e.creator,l=e.isFinish,o=e.show,i=e.issues,m=e.comentario,u=e.todo;return r.a.createElement("div",{className:"contenido"},u&&r.a.createElement("div",null,r.a.createElement("h3",null,"Nombre del proyecto: ",u.name),r.a.createElement("p",null,"Tipo: ",u.type),r.a.createElement("p",null,"Description: ",u.description),r.a.createElement("p",null,"Programadores:\xa0",u.collaborators.map((function(e){return r.a.createElement("span",null,e.username,"\xa0")}))),r.a.createElement("p",null,"Jefe: ",u.boss[0].username)),r.a.createElement("button",{className:"btn btn-primary",onClick:this.toggleShow},"Crear Incidencia"),r.a.createElement("div",{className:"modals"},r.a.createElement(k,{show:o},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"form"},r.a.createElement("p",null,"Crear Incidencia:"),r.a.createElement("div",null,r.a.createElement("label",null,"Nombre:"),r.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,value:t})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"type"},"Tipo:")," ",r.a.createElement("input",{type:"text",name:"type",onChange:this.handleChange,value:a})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"description"},"Descripci\xf3n:")," ",r.a.createElement("input",{type:"text",name:"description",onChange:this.handleChange,value:n})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"assigned"},"Asignado:"),r.a.createElement("input",{type:"text",name:"assigned",onChange:this.handleChange,value:s})),r.a.createElement("div",null,r.a.createElement("input",{type:"hidden",name:"creator",onChange:this.handleChange,value:c})),r.a.createElement("div",null,r.a.createElement("input",{type:"hidden",name:"isFinish",onChange:this.handleChange,value:l})),r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"comentario"},"Descripci\xf3n del problema:"),r.a.createElement("input",{type:"text",name:"comentario",onChange:this.handleChange,value:m})),r.a.createElement("div",{className:"buttonProject"},r.a.createElement("button",{className:"btn danger",onClick:this.toggleShow},"Salir"),r.a.createElement("button",{className:"btn btn-primary",type:"submit",value:"Create"},"Crear"))))),r.a.createElement("div",null,r.a.createElement("div",{className:"contenido"},r.a.createElement("div",{className:"issuesRow"},r.a.createElement("div",{className:"issuesSize"},r.a.createElement("h2",null,"Finalizadas"),!this.props.loggedInUser.isAdmin&&i?this.state.issues.filter((function(e){return 1==e.isFinish})).map((function(e){return r.a.createElement("div",{className:"col-sm-10 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.type),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("div",{className:"issuesRow"},r.a.createElement("a",{href:"/issues/".concat(e.id),className:"btn btn-primary"},"Ver incidencia")))))})):null,this.props.loggedInUser.isAdmin&&i&&this.displayTodos(),!i&&r.a.createElement("p",null,"Loading...")),r.a.createElement("div",{className:"issuesSize"},r.a.createElement("h2",null,"No finalizadas"),!this.props.loggedInUser.isAdmin&&i?this.state.issues.filter((function(e){return 0==e.isFinish})).map((function(e){return r.a.createElement("div",{className:"col-sm-10 margin-project"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},e.name),r.a.createElement("p",{className:"card-text"},e.type),r.a.createElement("p",{className:"card-text"},e.description),r.a.createElement("div",{className:"issuesRow"},r.a.createElement("a",{href:"/issues/".concat(e.id),className:"btn btn-primary"},"Ver incidencia")))))})):null,this.props.loggedInUser.isAdmin&&i&&this.displayTodos(),!i&&r.a.createElement("p",null,"Loading..."))))))}}]),t}(n.Component),_=a(88),W=a.n(_),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).highlight=function(){a.ref&&a.ref.current&&W.a.highlightElement(a.ref.current)},a.ref=r.a.createRef(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){return e.highlight()}),0)}},{key:"componentDidUpdate",value:function(){var e=this;setTimeout((function(){return e.highlight()}),0)}},{key:"render",value:function(){var e=this.props,t=e.code;e.plugins,e.language;return r.a.createElement("pre",{className:"highlight"},r.a.createElement("code",{ref:this.ref,className:"language-js show-language"},t.trim()))}}]),t}(r.a.Component);function $(){var e=Object(x.a)(["\n  display: "," ;\n  left: 0;\n  top:0;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100vw;\n  margin: 0 auto;\n  position:absolute;\n  z-index: 9999;\n  background:rgba(0,0,0, 0.5);\n  height: 100vh;\n  }\n\n  .whiteBack {\n      display:flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    background:white;\n    width: 650px;\n    height: 400px;\n  }\n\n"]);return $=function(){return e},e}var G=j.a.div($(),(function(e){return!0===e.show?"flex":"none"})),K=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).componentDidMount=function(){var e=a.props.match.params.id;a.issuesService.fetchOneTodo(e).then((function(e){console.log(e),a.setState(Object(l.a)({},a.state,{issue:e}))}))},a.handleChange=function(e){var t=e.target.value;a.setState(Object(l.a)({},a.state,{comentariosIssues:t}))},a.handleSubmit=function(e){e.preventDefault(),a.issuesService.updateTodo(a.props.match.params.id,a.state.comentariosIssues).then((function(e){a.setState(Object(l.a)({},a.state,{comentariosIssues:""}))}))},a.toggleShow=function(){var e=a.state.show;a.setState(Object(l.a)({},a.state,{show:!e}))},a.state={issue:null,name:"",type:"",description:"",assigned:"",show:!1,isFinish:"",issues:null,comentariosIssues:""},a.issuesService=new L,a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){if(this.state.issue){var e=this.state,t=e.comentariosIssues,a=e.issue,n=e.show,s=this.state.issue.patch;return r.a.createElement("div",{className:"contenido"},r.a.createElement("div",{className:"modals"},r.a.createElement(G,{show:n},r.a.createElement("div",{className:"whiteBack"},this.state.issue.patch&&r.a.createElement(X,{code:s})),r.a.createElement("button",{className:"btn btn-danger",onClick:this.toggleShow},"Salir"))),a&&r.a.createElement("div",{className:"contenido"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"issuesSizeLeft"},r.a.createElement("h3",null,"Nombre de la incidencia: ",a.issue.name),r.a.createElement("p",null,"Tipo: ",a.issue.type),r.a.createElement("p",null,"Description: ",a.issue.description),r.a.createElement("p",null,"Descripci\xf3n del problema: ",a.issue.comentario)),r.a.createElement("div",{className:"col"},r.a.createElement("p",null,"Asignado: ",a.issue.assigned[0].username),r.a.createElement("p",null,"Creado: ",a.issue.creator[0].username),r.a.createElement("p",null,"Finalizada: ",a.issue.isFinish)),r.a.createElement("div",{className:"w-100"}),r.a.createElement("div",{className:"issuesSizeLeft"},r.a.createElement("h2",null,"Comentarios"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",null,r.a.createElement("textarea",{name:"comentariosIssues",id:"comentariosIssues",onChange:this.handleChange,cols:"90",rows:"5",value:t})),r.a.createElement("br",null),r.a.createElement("button",{className:"btn btn-primary",type:"submit",value:"Create"},"Crear comentario")),this.state.issue.issue.comentariosIssues.map((function(e){return r.a.createElement("div",{className:"card comments"},r.a.createElement("p",null,e))}))),r.a.createElement("div",{className:"col"},r.a.createElement("h2",null,"Subidas git"),r.a.createElement("button",{className:"btn btn-primary",onClick:this.toggleShow},"Ver cambios en el c\xf3digo")))))}return r.a.createElement("div",null,"Loading...")}}]),t}(n.Component),Q=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).logoutUser=function(){a._service.logout().then((function(e){return a.props.setUser(!1)})).catch((function(e){return console.log(e)}))},a.Navbar=function(){var e=a.props.loggedInUser;return r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("svg",{className:"intro go",viewBox:"0 0 200 86"},r.a.createElement("a",{className:"nav-link",href:"/"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke",clipPath:"url(#text1)"},"JirHub"),r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text text-stroke text-stroke-2",clipPath:"url(#text1)"},"JirHub")),r.a.createElement("defs",null,r.a.createElement("clipPath",{id:"text1"},r.a.createElement("text",{textAnchor:"start",x:"10",y:"30",className:"text"},"JirHub")))),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav ml-auto"},r.a.createElement("li",{className:"nav-item"},r.a.createElement("p",{className:"userNav"},"Hola ",e.username,", tienes ",r.a.createElement(R.b,{className:"underline",to:{pathname:"/logs",stateUser:{user:a.props.loggedInUser}}},r.a.createElement("span",{className:"nIssues"},e.issues.length," incidencias")))))))},a._service=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t,a,n=this.props.loggedInUser;return r.a.createElement("div",null,this.Navbar(),r.a.createElement("div",{className:"container-dashboard"},r.a.createElement("div",{className:"menu"},r.a.createElement("a",{href:"/"},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-home fa-2x itemFont"}),"Home")),r.a.createElement(R.b,{to:{pathname:"/logs",stateUser:{user:this.props.loggedInUser}}},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-rss fa-2x itemFont"}),"Issues")),r.a.createElement(R.b,{to:{pathname:"/project",stateUser:{user:this.props.loggedInUser}}},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-tasks fa-2x itemFont"}),"Project")),r.a.createElement("a",{href:"/users"},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-user fa-2x itemFont"}),"Users")),r.a.createElement(R.b,{to:{pathname:"/settings",stateUser:{user:this.props.loggedInUser}}},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-cogs fa-2x itemFont"}),"Settings")),r.a.createElement("a",{href:"/",onClick:this.logoutUser},r.a.createElement("div",{className:"itemMenu"},r.a.createElement("i",{className:"fas fa-sign-out-alt fa-2x itemFont"}),"Logout"))),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",render:function(e){return r.a.createElement(P,{loggedInUser:n})}}),r.a.createElement(E.b,(e={exact:!0,path:"/project"},Object(g.a)(e,"exact",!0),Object(g.a)(e,"component",F),e)),r.a.createElement(E.b,{exact:!0,path:"/users",render:function(){return r.a.createElement(J,{name:n.username,lastname:n.lastname,email:n.email,id:n.id})}}),r.a.createElement(E.b,(t={exact:!0,path:"/logs"},Object(g.a)(t,"exact",!0),Object(g.a)(t,"component",z),t)),r.a.createElement(E.b,{exact:!0,path:"/settings",render:function(e){return r.a.createElement(M,Object.assign({},e,{name:n.username,lastname:n.lastname}))}}),r.a.createElement(E.b,{exact:!0,path:"/todos/:id",render:function(e){return r.a.createElement(q,Object.assign({},e,{loggedInUser:n}))}}),r.a.createElement(E.b,(a={exact:!0,path:"/issues/:id"},Object(g.a)(a,"exact",!0),Object(g.a)(a,"component",K),a)))))}}]),t}(n.Component),Y=Object(E.g)(Q),Z=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(m.a)(this,Object(u.a)(t).call(this,e))).state={user:null},a.setUser=function(e){a.setState(Object(l.a)({},a.state,{user:e}))},a.fetchUser=function(){null===a.state.user&&a.authService.loggedInUser().then((function(e){a.setUser(e)}),(function(e){a.setUser(!1)})).catch((function(){a.setUser(!1)}))},a.todoService=new b,a.authService=new v,a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.fetchUser()}},{key:"render",value:function(){var e=this;this.fetchUser();var t=this.state.user;return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},t&&r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(f,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(E.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(N,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(E.b,{exact:!0,path:"/logout",user:t}),r.a.createElement(C,{exact:!0,path:"/",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/project",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/users",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/logs",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/settings",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/todos/:id",user:t,component:Y}),r.a.createElement(C,{exact:!0,path:"/issues/:id",user:t,component:Y})),!t&&r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/login",render:function(t){return r.a.createElement(f,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(E.b,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(N,Object.assign({},t,{setUser:e.setUser}))}}),r.a.createElement(E.b,{exact:!0,path:"/logout",user:t}),r.a.createElement(E.b,{exact:!0,path:"/",component:O}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(R.a,null,r.a.createElement(Z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[164,1,2]]]);
//# sourceMappingURL=main.bbf46539.chunk.js.map